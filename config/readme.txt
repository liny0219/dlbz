# 战斗指令脚本格式说明

本文件用于说明如何编写战斗指令脚本（TXT格式），包括每种指令的参数含义、取值范围及使用示例。

## 基本格式
- 每行一条指令，逗号分隔参数。
- 支持 # 开头的注释行，空行自动跳过。
- 指令类型区分大小写。

---

## 指令类型一览表

| 指令类型    | 格式                                                         | 说明/参数                                                                                      | 示例                                                         |
|-------------|--------------------------------------------------------------|-----------------------------------------------------------------------------------------------|--------------------------------------------------------------|
| BattleStart | `BattleStart`                                                | 标记战斗开始，无参数                                                                           | `BattleStart`                                                |
| BattleEnd   | `BattleEnd`                                                  | 标记战斗结束，无参数                                                                           | `BattleEnd`                                                  |
| Attack      | `Attack`                                                     | 执行攻击操作，无参数                                                                           | `Attack`                                                     |
| Role        | `Role,角色[1~4],技能[0~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y` | 角色普攻/技能，BP倍率，目标角色索引(0无目标)，坐标(0无目标)                                   | `Role,1,2,1,0,0,0`<br>`Role,2,0,0,0,500,300`                 |
| XRole       | `XRole,角色[1~8],技能[0~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y` | 切换后排并攻击，参数同Role                                                                     | `XRole,3,1,2,0,0,0`                                          |
| SP          | `SP,角色[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放前排特殊技能，目标角色索引(0无目标)，坐标可选                                              | `SP,1,0,0,0`<br>`SP,1,1,0,0`                                 |
| XSP         | `XSP,角色[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放后排特殊技能，参数同SP                                                                     | `XSP,2,1,0,0`                                                |
| EX          | `EX,角色[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放EX技能，参数同SP           
| XEX         | `XEX,角色[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放后排EX技能，参数同EX                                                                 | `EX,1,0,0,0`                                                 |
| Pet         | `Pet,宠物[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放宠物技能，目标角色索引(0无目标)，坐标可选  
| XPet        | `XPet,角色[1~4],BP[0~3],技能对象角色[0~4],怪物x,怪物y`                  | 释放后排宠物技能，参数同PET                                         | `Pet,1,0,0,0`                                                |
| Wait        | `Wait,秒数`                                                  | 等待指定秒数（浮点数，单位：秒）                                                               | `Wait,2.5`                                                   |
| Skip        | `Skip,秒数`                                                  | 跳过指定秒数（如动画，浮点数，单位：秒）                                                       | `Skip,1.0`                                                   |
| Click       | `Click,x坐标,y坐标`                                          | 点击指定坐标                                                                                   | `Click,800,600`                                              |
| Switch      | `Switch`                                                     | 全员交替，无参数                                                                               | `Switch`                                                     |
| Boost       | `Boost`                                                      | 全体加成，无参数                                                                               | `Boost`                                                      |
| CheckDead   | `CheckDead,技能对象角色[0~4]`                                 | 检测角色是否死亡，0为任意角色，1-4为具体角色，可选，默认0                                      | `CheckDead,0`                                                |

---

## 详细参数说明

- 角色索引：仅支持前排1~4号角色
- 技能索引：0为普攻，1-4为技能
- BP：倍率，0为不加成，1-3为加成
- 技能对象角色：0为无目标，1-4为目标角色
- x/y：怪物或敌人坐标，0为无目标，填写则点击指定坐标
- 宠物索引：1~4
- 秒数：浮点数，单位为秒

---

## 其它说明
- 未知指令会被忽略并记录警告。
- 参数不足时，未填写的参数将使用默认值。
- 建议每条指令单独一行，便于调试和维护。

---

## 综合示例

```
# 战斗流程示例
BattleStart
Role,1,2,1,0,0,0
Wait,1.5
Attack
SP,2,0,0,0
Click,900,500
CheckDead,0
BattleEnd
